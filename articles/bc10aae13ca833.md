---
title: "æ¼æ°´ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ç”¨ã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’ä½œã‚‹"
emoji: "ğŸ’¬"
type: "tech"
topics:
  - "æ¼æ°´"
published: true
published_at: "2024-02-03 07:13"
---

## SORACOM Harvest Data,Harvest Filesã®æœ‰åŠ¹åŒ–
å¯¾è±¡ã®SIMã®ã‚°ãƒ«ãƒ¼ãƒ—ã‚’é¸æŠ
![](https://storage.googleapis.com/zenn-user-upload/4c966e357556-20240203.png)

SORACOM Harvest Dataè¨­å®šã‚’æœ‰åŠ¹åŒ–(on)ã—ã¦ã€Œä¿å­˜ã€
![](https://storage.googleapis.com/zenn-user-upload/3aa7662881d7-20240203.png)

SORACOM Harvest Filesè¨­å®šã‚’æœ‰åŠ¹åŒ–(on)ã€HARVEST DATAé€£æºã‚’onã—ã¦ã€é€£æºå¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã«ã€Œcamera_imagesã€ã‚’å…¥åŠ›ã—ã¦ã€Œä¿å­˜ã€
![](https://storage.googleapis.com/zenn-user-upload/0f94a502f1ef-20240203.png)

æ–™é‡‘ã®ç™ºç”Ÿã«æ³¨æ„
![](https://storage.googleapis.com/zenn-user-upload/99d482a1bcf0-20240203.png)


## SORACOM Lagoonã«ã‚¢ã‚¯ã‚»ã‚¹
ã€Œãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€(å·¦ä¸Š)ã€€ -> ã€Œãƒ‡ãƒ¼ã‚¿åé›†ãƒ»è“„ç©ãƒ»å¯è¦–åŒ–ã€ã€€-> ã€ŒSORACOM Lagoonã€
![](https://storage.googleapis.com/zenn-user-upload/856209993a42-20240203.png)

## SORACOM Lagoon3ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹

![](https://storage.googleapis.com/zenn-user-upload/7710209abdf4-20240203.png)

## SORACOM Lagoonï¼“ã«ãƒ­ã‚°ã‚¤ãƒ³

emailã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ Log in
![](https://storage.googleapis.com/zenn-user-upload/3dc1c2c35186-20240203.png)

## IMSIã‚’ã‚³ãƒ”ãƒš

![](https://storage.googleapis.com/zenn-user-upload/69ac1f7c15cf-20240203.png)

## ä»¥ä¸‹ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã€ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã«è²¼ã‚Šä»˜ã‘

```json
{
  "__inputs": [
    {
      "name": "DS_HARVEST",
      "label": "Harvest",
      "description": "",
      "type": "datasource",
      "pluginId": "harvest-backend-datasource",
      "pluginName": "harvest-backend"
    }
  ],
  "__elements": {},
  "__requires": [
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "9.3.9"
    },
    {
      "type": "datasource",
      "id": "harvest-backend-datasource",
      "name": "harvest-backend",
      "version": "1.0.0"
    },
    {
      "type": "panel",
      "id": "soracom-dynamic-image-panel",
      "name": "Soracom Dynamic Image Panel",
      "version": "0.0.1"
    },
    {
      "type": "panel",
      "id": "stat",
      "name": "Stat",
      "version": ""
    },
    {
      "type": "panel",
      "id": "table",
      "name": "Table",
      "version": ""
    }
  ],
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "description": "",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": null,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 28,
      "panels": [],
      "title": "æ¼æ°´ã‚»ãƒ³ã‚µçŠ¶æ³ä¸€è¦§",
      "type": "row"
    },
    {
      "datasource": {
        "type": "harvest-backend-datasource",
        "uid": "${DS_HARVEST}"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "10": {
                  "color": "red",
                  "index": 1,
                  "text": "æ¼æ°´æ¤œçŸ¥"
                },
                "11": {
                  "color": "green",
                  "index": 0,
                  "text": "æ­£å¸¸"
                },
                "20": {
                  "color": "red",
                  "index": 3,
                  "text": "æ­»æ´»ç›£è¦–ç•°å¸¸æ¤œçŸ¥"
                },
                "21": {
                  "color": "green",
                  "index": 2,
                  "text": "æ­»æ´»ç›£è¦–ç•°å¸¸æ¤œçŸ¥è§£é™¤"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_01"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "æ¼æ°´ã‚»ãƒ³ã‚µ1"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_02"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "æ¼æ°´ã‚»ãƒ³ã‚µ2"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_03"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "æ¼æ°´ã‚»ãƒ³ã‚µ3"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_04"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "æ¼æ°´ã‚»ãƒ³ã‚µ4"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_05"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "æ¼æ°´ã‚»ãƒ³ã‚µ5"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_06"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "æ¼æ°´ã‚»ãƒ³ã‚µ6"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_07"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "æ¼æ°´ã‚»ãƒ³ã‚µ7"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_08"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "æ¼æ°´ã‚»ãƒ³ã‚µ8"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_09"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "æ¼æ°´ã‚»ãƒ³ã‚µ9"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_10"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "æ¼æ°´ã‚»ãƒ³ã‚µ10"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 6,
        "w": 24,
        "x": 0,
        "y": 1
      },
      "id": 2,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.3.9",
      "targets": [
        {
          "browser": true,
          "datasource": {
            "type": "harvest-backend-datasource",
            "uid": "${DS_HARVEST}"
          },
          "datatype": "standard",
          "devicetype": "subscribers",
          "latprop": "",
          "lngprop": "",
          "pro": false,
          "properties": "notification_type_01",
          "refId": "A",
          "target": "${IMSI}",
          "type": "timeSeriesQuery",
          "withStreaming": false
        },
        {
          "browser": true,
          "datasource": {
            "type": "harvest-backend-datasource",
            "uid": "${DS_HARVEST}"
          },
          "datatype": "standard",
          "devicetype": "subscribers",
          "hide": false,
          "latprop": "",
          "lngprop": "",
          "pro": false,
          "properties": "notification_type_02",
          "refId": "B",
          "target": "${IMSI}",
          "type": "timeSeriesQuery",
          "withStreaming": false
        },
        {
          "browser": true,
          "datasource": {
            "type": "harvest-backend-datasource",
            "uid": "${DS_HARVEST}"
          },
          "datatype": "standard",
          "devicetype": "subscribers",
          "hide": false,
          "latprop": "",
          "lngprop": "",
          "pro": false,
          "properties": "notification_type_03",
          "refId": "C",
          "target": "${IMSI}",
          "type": "timeSeriesQuery",
          "withStreaming": false
        },
        {
          "browser": true,
          "datasource": {
            "type": "harvest-backend-datasource",
            "uid": "${DS_HARVEST}"
          },
          "datatype": "standard",
          "devicetype": "subscribers",
          "hide": false,
          "latprop": "",
          "lngprop": "",
          "pro": false,
          "properties": "notification_type_04",
          "refId": "D",
          "target": "${IMSI}",
          "type": "timeSeriesQuery",
          "withStreaming": false
        }
      ],
      "title": "æ¼æ°´æ¤œçŸ¥çŠ¶æ³",
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 7
      },
      "id": 4,
      "panels": [],
      "title": "æ¼æ°´æ¤œçŸ¥å±¥æ­´",
      "type": "row"
    },
    {
      "datasource": {
        "type": "harvest-backend-datasource",
        "uid": "${DS_HARVEST}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [
            {
              "options": {
                "10": {
                  "index": 1,
                  "text": "æ¼æ°´æ¤œçŸ¥"
                },
                "11": {
                  "index": 0,
                  "text": "æ­£å¸¸"
                },
                "20": {
                  "index": 3,
                  "text": "æ­»æ´»ç›£è¦–ç•°å¸¸æ¤œçŸ¥"
                },
                "21": {
                  "index": 2,
                  "text": "æ­»æ´»ç›£è¦–ç•°å¸¸æ¤œçŸ¥è§£é™¤"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "notification_type_01"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 0
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 145
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 14,
        "w": 6,
        "x": 0,
        "y": 8
      },
      "id": 6,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "frameIndex": 0,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "Time"
          }
        ]
      },
      "pluginVersion": "9.3.9",
      "targets": [
        {
          "browser": true,
          "datasource": {
            "type": "harvest-backend-datasource",
            "uid": "${DS_HARVEST}"
          },
          "datatype": "standard",
          "devicetype": "subscribers",
          "latprop": "",
          "lngprop": "",
          "pro": false,
          "properties": "notification_type_01",
          "refId": "A",
          "target": "${IMSI}",
          "type": "timeSeriesQuery",
          "withStreaming": false
        }
      ],
      "title": "ã‚»ãƒ³ã‚µ1",
      "type": "table"
    },
    {
      "datasource": {
        "type": "harvest-backend-datasource",
        "uid": "${DS_HARVEST}"
      },
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [
            {
              "options": {
                "10": {
                  "index": 1,
                  "text": "æ¼æ°´æ¤œçŸ¥"
                },
                "11": {
                  "index": 0,
                  "text": "æ­£å¸¸"
                },
                "20": {
                  "index": 3,
                  "text": "æ­»æ´»ç›£è¦–ç•°å¸¸æ¤œçŸ¥"
                },
                "21": {
                  "index": 2,
                  "text": "æ­»æ´»ç›£è¦–ç•°å¸¸æ¤œçŸ¥è§£é™¤"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 159
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 14,
        "w": 6,
        "x": 6,
        "y": 8
      },
      "id": 7,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "frameIndex": 0,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "Time"
          }
        ]
      },
      "pluginVersion": "9.3.9",
      "targets": [
        {
          "browser": true,
          "datasource": {
            "type": "harvest-backend-datasource",
            "uid": "${DS_HARVEST}"
          },
          "datatype": "standard",
          "devicetype": "subscribers",
          "latprop": "",
          "lngprop": "",
          "pro": false,
          "properties": "notification_type_02",
          "refId": "A",
          "target": "${IMSI}",
          "type": "timeSeriesQuery",
          "withStreaming": false
        }
      ],
      "title": "ã‚»ãƒ³ã‚µ2",
      "type": "table"
    },
    {
      "datasource": {
        "type": "harvest-backend-datasource",
        "uid": "${DS_HARVEST}"
      },
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [
            {
              "options": {
                "10": {
                  "index": 0,
                  "text": "æ¼æ°´æ¤œçŸ¥"
                },
                "11": {
                  "index": 1,
                  "text": "æ­£å¸¸"
                },
                "20": {
                  "index": 2,
                  "text": "æ­»æ´»ç›£è¦–ç•°å¸¸æ¤œçŸ¥"
                },
                "21": {
                  "index": 3,
                  "text": "æ­»æ´»ç›£è¦–ç•°å¸¸æ¤œçŸ¥è§£é™¤"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 157
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 14,
        "w": 6,
        "x": 12,
        "y": 8
      },
      "id": 8,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "frameIndex": 0,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "Time"
          }
        ]
      },
      "pluginVersion": "9.3.9",
      "targets": [
        {
          "browser": true,
          "datasource": {
            "type": "harvest-backend-datasource",
            "uid": "${DS_HARVEST}"
          },
          "datatype": "standard",
          "devicetype": "subscribers",
          "latprop": "",
          "lngprop": "",
          "pro": false,
          "properties": "notification_type_03",
          "refId": "A",
          "target": "${IMSI}",
          "type": "timeSeriesQuery",
          "withStreaming": false
        }
      ],
      "title": "ã‚»ãƒ³ã‚µ3",
      "type": "table"
    },
    {
      "datasource": {
        "type": "harvest-backend-datasource",
        "uid": "${DS_HARVEST}"
      },
      "fieldConfig": {
        "defaults": {
          "custom": {
            "align": "auto",
            "displayMode": "auto",
            "inspect": false
          },
          "mappings": [
            {
              "options": {
                "10": {
                  "index": 0,
                  "text": "æ¼æ°´æ¤œçŸ¥"
                },
                "11": {
                  "index": 1,
                  "text": "æ­£å¸¸"
                },
                "20": {
                  "index": 2,
                  "text": "æ­»æ´»ç›£è¦–ç•°å¸¸æ¤œçŸ¥"
                },
                "21": {
                  "index": 3,
                  "text": "æ­»æ´»ç›£è¦–ç•°å¸¸æ¤œçŸ¥è§£é™¤"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 158
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 14,
        "w": 6,
        "x": 18,
        "y": 8
      },
      "id": 9,
      "options": {
        "footer": {
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "frameIndex": 0,
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "Time"
          }
        ]
      },
      "pluginVersion": "9.3.9",
      "targets": [
        {
          "browser": true,
          "datasource": {
            "type": "harvest-backend-datasource",
            "uid": "${DS_HARVEST}"
          },
          "datatype": "standard",
          "devicetype": "subscribers",
          "latprop": "",
          "lngprop": "",
          "pro": false,
          "properties": "notification_type_04",
          "refId": "A",
          "target": "${IMSI}",
          "type": "timeSeriesQuery",
          "withStreaming": false
        }
      ],
      "title": "ã‚»ãƒ³ã‚µ4",
      "type": "table"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 22
      },
      "id": 26,
      "panels": [],
      "title": "ç¾å ´ç”»åƒ",
      "type": "row"
    },
    {
      "backgroundMeta": {
        "height": 1024,
        "url": "/api/datasources/1/resources/proxy/v1/files/private/images/pic4_202401231421.png",
        "width": 1024
      },
      "backgroundSize": "contain",
      "basicAuth": false,
      "basicAuthPassword": "",
      "basicAuthUsername": "",
      "bgimage": "",
      "bgimageSuffix": ".png",
      "bustCache": false,
      "datasource": {
        "type": "harvest-backend-datasource",
        "uid": "${DS_HARVEST}"
      },
      "displayImage": 0,
      "fixRatio": true,
      "gridPos": {
        "h": 13,
        "w": 12,
        "x": 0,
        "y": 23
      },
      "height": "400px",
      "id": 22,
      "language": "english",
      "mode": "harvest_files",
      "series": [],
      "seriesList": [],
      "targets": [
        {
          "browser": true,
          "datasource": {
            "type": "harvest-backend-datasource",
            "uid": "${DS_HARVEST}"
          },
          "datatype": "table",
          "devicetype": "subscribers",
          "latprop": "",
          "lngprop": "",
          "pro": false,
          "properties": "",
          "refId": "A",
          "target": "${IMSI}",
          "type": "timeSeriesQuery",
          "withStreaming": false
        }
      ],
      "title": "Panel Title",
      "type": "soracom-dynamic-image-panel",
      "urlValue": "A-url",
      "valueMaps": {
        "A-Time": {
          "name": "A-Time",
          "value": 1706901887826
        },
        "A-keepalive_01": {
          "name": "A-keepalive_01",
          "value": 0
        },
        "A-keepalive_02": {
          "name": "A-keepalive_02"
        },
        "A-keepalive_03": {
          "name": "A-keepalive_03"
        },
        "A-keepalive_04": {
          "name": "A-keepalive_04"
        },
        "A-leakage01": {
          "name": "A-leakage01"
        },
        "A-leakage02": {
          "name": "A-leakage02"
        },
        "A-leakage03": {
          "name": "A-leakage03"
        },
        "A-leakage04": {
          "name": "A-leakage04"
        },
        "A-leakage_01": {
          "name": "A-leakage_01"
        },
        "A-leakage_02": {
          "name": "A-leakage_02"
        },
        "A-leakage_03": {
          "name": "A-leakage_03"
        },
        "A-leakage_04": {
          "name": "A-leakage_04"
        },
        "A-notification_time_01": {
          "name": "A-notification_time_01",
          "value": "Fri, 02 Feb 2024 19:24:47 GMT"
        },
        "A-notification_time_02": {
          "name": "A-notification_time_02"
        },
        "A-notification_time_03": {
          "name": "A-notification_time_03"
        },
        "A-notification_time_04": {
          "name": "A-notification_time_04"
        },
        "A-notification_type_01": {
          "name": "A-notification_type_01",
          "value": 21
        },
        "A-notification_type_02": {
          "name": "A-notification_type_02"
        },
        "A-notification_type_03": {
          "name": "A-notification_type_03"
        },
        "A-notification_type_04": {
          "name": "A-notification_type_04"
        },
        "A-sensor_id": {
          "name": "A-sensor_id",
          "value": 1
        }
      },
      "variables": [],
      "width": "100px"
    }
  ],
  "refresh": "5s",
  "schemaVersion": 37,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": []
  },
  "time": {
    "from": "now-2d",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "æ¼æ°´ã‚»ãƒ³ã‚µãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰",
  "uid": "r-MfneKSz2",
  "version": 6,
  "weekStart": ""
}
```

${IMSI}ã‚’å…ˆã»ã©ã‚³ãƒ”ãƒ¼ã—ãŸIMSIç•ªå·ã§ç½®ãæ›ãˆã‚‹ã€‚
sedã‚³ãƒãƒ³ãƒ‰ã‚„ã€ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®ç½®æ›æ©Ÿèƒ½ã‚’åˆ©ç”¨ã™ã‚‹ã€‚

## Dashboardã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

![](https://storage.googleapis.com/zenn-user-upload/1f2430b69988-20240203.png)

${IMSI}æ›¸ãæ›ãˆå¾Œjsonã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«è²¼ã‚Šä»˜ã‘ã€ã€Œimport vei panel jsonã€ã«ãƒšãƒ¼ã‚¹ãƒˆã—ã€ã€ŒLoadã€

Harvestã‚’é¸æŠã—ã¦ã€ŒImportã€
![](https://storage.googleapis.com/zenn-user-upload/ddd1e548d1f6-20240203.png)

Inportç›´å¾Œã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ãŒã€å·¦å´ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®dashboardsãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ã€Œæ¼æ°´ã‚»ãƒ³ã‚µãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã€ãŒã§ãã¦ã„ã‚‹ã€‚
![](https://storage.googleapis.com/zenn-user-upload/fe6d9d784d4f-20240203.png)

ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ãªã„å ´åˆã®ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®è¡¨ç¤º
![](https://storage.googleapis.com/zenn-user-upload/81b95dc9c11b-20240203.png)

ãƒ‡ãƒ¼ã‚¿é€ä¿¡ãŒé–‹å§‹ã•ã‚Œã‚‹ã¨ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãƒ‡ãƒ¼ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚
![](https://storage.googleapis.com/zenn-user-upload/d6693c20b2a6-20240203.png)

## Alertè¨­å®š
### Alert rulesã®è¨­å®šï¼ˆæ¼æ°´æ¤œçŸ¥ï¼‰
ã€ŒAlertingã€ã€€-> ã€ŒAlert rulesã€

![](https://storage.googleapis.com/zenn-user-upload/149544e90723-20240203.png)

Nes alert ruleã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://storage.googleapis.com/zenn-user-upload/ec50115af11d-20240203.png)

ã€Œ1ã€€ã€€Set a query and alert conditionã€ã®Aã®ç³»åˆ—ã¯å·¦ã‹ã‚‰é †ç•ªã«ã€Airã€SIMç®¡ç†ç”»é¢ã®SIMã®åå‰ã€Standardã€leak_01ã‚’é¸æŠã™ã‚‹ã€‚
![](https://storage.googleapis.com/zenn-user-upload/e74830cba5a9-20240203.png)

Bã®ç³»åˆ—ã¯ã€
Function:Last
Inputï¼šA
Modeï¼šDrop Non-numeric Values
ã¨ã—ã¦ã€Alert conditionã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹
![](https://storage.googleapis.com/zenn-user-upload/5a2d9ec466b8-20240203.png)
![](https://storage.googleapis.com/zenn-user-upload/01bd3afea4c7-20240203.png)

ã€Œ2 Alert evaluation behaviorã€ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®š
Evaruate every ï¼š1m
for : 0m
Alert state if no data or all values are null : No Data
Alert state if execution error or timeout : Error
![](https://storage.googleapis.com/zenn-user-upload/d447adc3be9d-20240203.png)

ã€Œ3ã€€Add details for your alertã€ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®š
Rule name : æ¼æ°´æ¤œçŸ¥1
Folder : ã€Œï¼‹add newã€ã‹ã‚‰Leakage sensor

![](https://storage.googleapis.com/zenn-user-upload/3b767de51ab6-20240203.png)

Group : No.1
Summary : ã‚»ãƒ³ã‚µ1ã§æ¼æ°´ã‚’æ¤œçŸ¥ã—ã¾ã—ãŸ
Dashboard UID : r-MfneKSz2
Panel ID : 2
![](https://storage.googleapis.com/zenn-user-upload/817600a5e688-20240203.png)

ã€Œ4ã€€Notificationsã€ã®Custom Labelsã¯
Labelã«Sensor1ã¨å…¥åŠ›ã—ã€Enter
= leakã‚’å…¥åŠ›ã—ã€Enter
![](https://storage.googleapis.com/zenn-user-upload/a14de69302e6-20240203.png)

### Save and exit
![](https://storage.googleapis.com/zenn-user-upload/aabbf876ef0a-20240203.png)

### åŒæ§˜ã«ä»–3ã¤ã®ã‚»ãƒ³ã‚µã‚‚è¨­å®šã‚’è¡Œã†
![](https://storage.googleapis.com/zenn-user-upload/e2742a87e476-20240203.png)

### Alert rulesã®è¨­å®šï¼ˆæ­»æ´»ç›£è¦–ï¼‰
Nes alert ruleã‚’ã‚¯ãƒªãƒƒã‚¯
![](https://storage.googleapis.com/zenn-user-upload/ec50115af11d-20240203.png)

ã€Œ1ã€€ã€€Set a query and alert conditionã€ã®Aã®ç³»åˆ—ã¯å·¦ã‹ã‚‰é †ç•ªã«ã€Airã€SIMç®¡ç†ç”»é¢ã®SIMã®åå‰ã€Standardã€dead_01ã‚’é¸æŠã™ã‚‹ã€‚
![](https://storage.googleapis.com/zenn-user-upload/8e974d0e43e7-20240203.png)

Bã®ç³»åˆ—ã¯ã€å…ˆã»ã©ã¨å…¨ãåŒã˜ã§ã€
Function:Last
Inputï¼šA
Modeï¼šDrop Non-numeric Values
ã¨ã—ã¦ã€Alert conditionã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹
![](https://storage.googleapis.com/zenn-user-upload/e0e94ceb921f-20240203.png)

ã€Œ2 Alert evaluation behaviorã€ã®è¨­å®šã¯å…ˆã»ã©ã¨å…¨ãåŒã˜
![](https://storage.googleapis.com/zenn-user-upload/ab0506928f47-20240203.png)

ã€Œ3ã€€Add details for your alertã€ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®š
Rule name : æ­»æ´»ç›£è¦–1
Folder :Leakage sensor
Group : No.1
Summary : ã‚»ãƒ³ã‚µ1ã§æ¼æ°´ã‚’æ¤œçŸ¥ã—ã¾ã—ãŸ
Dashboard UID : r-MfneKSz2
Panel ID : 2
![](https://storage.googleapis.com/zenn-user-upload/d0cd75f33e7d-20240203.png)

ã€Œ4ã€€Notificationsã€ã®Custom Labelsã¯
Labelã«Sensor1ã‚’é¸æŠ
= deadã‚’å…¥åŠ›ã—ã€Enter
![](https://storage.googleapis.com/zenn-user-upload/f29429c4de4f-20240203.png)

### Save and exit
![](https://storage.googleapis.com/zenn-user-upload/aabbf876ef0a-20240203.png)

### åŒæ§˜ã«ä»–3ã¤ã®ã‚»ãƒ³ã‚µã‚‚è¨­å®šã‚’è¡Œã†
å…¨éƒ¨ã§åˆè¨ˆ8ã¤ã®ãƒ«ãƒ¼ãƒ«ãŒã§ããŸã‚‰OKã§ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/2a72bcd3369e-20240203.png)

## contact pointsï¼ˆãƒ¡ãƒ¼ãƒ«é€ä»˜å…ˆã¨æœ¬æ–‡ï¼‰ã®è¨­å®š
ã€Œ+ New contact point ã‚’ã‚¯ãƒªãƒƒã‚¯ã€
![](https://storage.googleapis.com/zenn-user-upload/17512dde845f-20240203.png)

Nameï¼šä½•ã®é…ä¿¡å…ˆã‹ã‚ã‹ã‚Šã‚„ã™ã„åå‰
Contact point typeï¼šä»Šå›ã¯ãƒ¡ãƒ¼ãƒ«ãªã®ã§Email
Addressesï¼šã‚»ãƒŸã‚³ãƒ­ãƒ³åŒºåˆ‡ã‚Šã§ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›
subject:ãƒ¡ãƒ¼ãƒ«ã®ä»¶åï¼ˆä»Šå›ã¯ã€æ¼æ°´æ¤œçŸ¥ãƒ¡ãƒ¼ãƒ«ï¼‰
ãã®ä»–ã¯ç©ºæ¬„ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¨­å®šãŒåæ˜ ã•ã‚Œã‚‹ï¼‰

![](https://storage.googleapis.com/zenn-user-upload/9bac0b749850-20240203.png)

ã€ŒSave contact pointã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ä¿å­˜

![](https://storage.googleapis.com/zenn-user-upload/d63540644d55-20240203.png)

## notification policiesï¼ˆï¼‰ã®è¨­å®š
ä»¥ä¸‹ã‚’è¨­å®š
label : grafana_folder
Operator : =
Value : Leakage sensor
Contact point : æ¼æ°´æ¤œçŸ¥ãƒ¡ãƒ¼ãƒ«é…ä¿¡

![](https://storage.googleapis.com/zenn-user-upload/e9a2496cf5ea-20240203.png)

ã€ŒSave policyã€ã‚’ã‚¯ãƒªãƒƒã‚¯

ä»¥ä¸‹ã®ã‚ˆã†ãªçŠ¶æ…‹ã«ãªã‚Œã°è¨­å®šå®Œäº†
![](https://storage.googleapis.com/zenn-user-upload/f85a65b75cf0-20240203.png)